<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Hikari">
<meta property="og:url" content="http://yoursite.com/page/4/index.html">
<meta property="og:site_name" content="Hikari">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hikari">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/4/"/>





  <title>Hikari</title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hikari</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">寻光之旅</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/22/[学习总结]计算机网络_传输层/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lin Hui">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hikari">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/22/[学习总结]计算机网络_传输层/" itemprop="url">传输层</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-22T15:53:12+08:00">
                2018-07-22
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2018-07-24T07:10:28+08:00">
                2018-07-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/计算机网络/" itemprop="url" rel="index">
                    <span itemprop="name">计算机网络</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1,924 字
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="传输层提供的功能"><a href="#传输层提供的功能" class="headerlink" title="传输层提供的功能"></a>传输层提供的功能</h2><h3 id="1-传输层的功能"><a href="#1-传输层的功能" class="headerlink" title="1 传输层的功能"></a>1 传输层的功能</h3><p>传输层位于网络层之上，为应用层提供通信服务，它是通信部分的最高层和用户功能的最低层。<br>传输层的功能：</p>
<ul>
<li>提供进程之间的逻辑通信(端到端通信)</li>
<li>复用：不同进程可以使用同一传输层协议传递数据</li>
<li>分用：数据接收方能够将不同应用程序的数据正确交付</li>
<li>差错检测：对报文的<strong>首部和数据部分</strong>进行差错检测</li>
<li>提供两种传输协议：TCP和UDP</li>
</ul>
<h3 id="2-传输层的寻址与端口"><a href="#2-传输层的寻址与端口" class="headerlink" title="2 传输层的寻址与端口"></a>2 传输层的寻址与端口</h3><ol>
<li>端口的作用<br>端口用于标识主机中的应用进程</li>
<li>端口号<br>端口号长度为16bit,能够表示65536(2<sup>16</sup>)个不同端口号<br>常用端口号： </li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th>应用程序</th>
<th>FTP</th>
<th>TELNET</th>
<th>SMAP</th>
<th>DNS</th>
<th>TFTP</th>
<th>HTTP</th>
<th>SNMP</th>
</tr>
</thead>
<tbody>
<tr>
<td>端口号</td>
<td>21</td>
<td>23</td>
<td>25</td>
<td>53</td>
<td>69</td>
<td>80</td>
<td>161</td>
</tr>
</tbody>
</table>
</div>
<ol>
<li><p>套接字</p>
<p> <font align="center"><strong>套接字=(主机号：端口号)</strong></font><br> 套接字唯一的标识了网络中一个主机和其上的一个进程</p>
</li>
</ol>
<h3 id="3-无连接服务与面向连接服务"><a href="#3-无连接服务与面向连接服务" class="headerlink" title="3 无连接服务与面向连接服务"></a>3 无连接服务与面向连接服务</h3><ol>
<li>TCP协议<br> TCP协议是面向连接的传输控制协议，提供可靠的传输服务，不提供广播或组播服务。应用场合有：FTP、HTTP和TELNET等</li>
<li>UDP协议<br> UDP是无连接的非可靠的传输层协议，UDP具有较好的速度，应用场合有：TFTP、DNS、SNMP和RTP等</li>
</ol>
<h2 id="UDP协议"><a href="#UDP协议" class="headerlink" title="UDP协议"></a>UDP协议</h2><h3 id="1-UDP概述"><a href="#1-UDP概述" class="headerlink" title="1 UDP概述"></a>1 UDP概述</h3><p>UDP在IP数据报服务基础之上增加了复用和分用以及差错检测两个最基本服务。  UDP协议有以下优势：</p>
<pre><code>- 无需建立连接：速度快
- 无连接状态：不用维护连接状态
- 分组开销小：TCP首部20字节，UDP首部8字节
- 没有拥塞机制：网络中拥塞不会影响主机发送效率
</code></pre><p>UDP常用于一次性传输较少量的数据，UDP不提供可靠传输，可靠性由应用层完成。</p>
<h3 id="2-UDP的首部格式"><a href="#2-UDP的首部格式" class="headerlink" title="2 UDP的首部格式"></a>2 UDP的首部格式</h3><p>UDP数据报包含首部和数据部分，其中首部占8字节平分成四段，分别为：</p>
<pre><code>- 源端口
- 目的端口
- UDP长度(包含首部和数据部分)
- UDP校验和
</code></pre><h3 id="3-UDP校验"><a href="#3-UDP校验" class="headerlink" title="3 UDP校验"></a>3 UDP校验</h3><p>伪首部：在UDP数据报前加上12字节的伪首部，形成临时UDP数据报，用于计算校验和，伪首部不传送或递交，其唯一功能就是计算校验和。<br>校验：IP数据报的校验只检验数据部分，而UDP的校验将首部和数据部分一起检验。<br>校验和计算：将临时UDP以16位为一个数，进行二进制反码运算求和，所得结果再求反即为校验和<br>反码：二进制数据第一位为符号位，符号位为‘0’表示正数，符号位为‘1’表示负数，正数的反码为其本身，负数的反码为其各个数位取反(符号位不变)。</p>
<h2 id="TCP协议"><a href="#TCP协议" class="headerlink" title="TCP协议"></a>TCP协议</h2><h3 id="1-TCP协议特点"><a href="#1-TCP协议特点" class="headerlink" title="1 TCP协议特点"></a>1 TCP协议特点</h3><p>TCP协议是在不可靠的IP层之上提供可靠的数据传输的协议。<br>TCP协议特点：  </p>
<pre><code>- 面向连接的传输层协议
- TCP连接是点对点连接
- 提供可靠的交付服务
- 提供全双工通信
- TCP是面向字节流的：TCP把应用程序交下来的数据看成无结构的字节流
</code></pre><h3 id="2-TCP报文"><a href="#2-TCP报文" class="headerlink" title="2 TCP报文"></a>2 TCP报文</h3><p>TCP传输的数据单元是数据段，TCP数据段分为TCP首部和TCP数据两部分，TCP段作为IP数据报的数据部分封装。TCP首部前20字节是固定的，总长度是4N字节。<br>TCP报文段各字段含义：</p>
<pre><code>- 源端口和目的端口：各占2字节
- 序号：标记本段的第一个字节的序列
- 确认字段：确认号=N，表示序号N-1前的数据都正确接收
- 数据偏移:首部长度
- 保留字段：
- 紧急为URG
- 确认位ACK：ACK=1时确认位有效
- 推送位
- 复位位RST
- 同部位SYN：SYN=1 表示连接请求或连接接收报文
- 终止位FIN：FIN=1表示要求释放连接
- 窗口字段：
- 校验和：检验首部和数据部分
- 紧急指针字段
- 选项字段
- 填充字段
</code></pre><h3 id="3-TCP连接管理"><a href="#3-TCP连接管理" class="headerlink" title="3 TCP连接管理"></a>3 TCP连接管理</h3><ol>
<li><p>TCP连接建立<br> 三次握手：<br> <img src="/images/三次握手.png" alt="三次握手"><br> 第一步：客户机发起连接请求<br> 第二步：服务器同意建立连接后发回确认，为该连接分配缓冲和变量<br> 第三步：客户机收到确认报文后向服务器给出确认，为连接分配缓存和变量</p>
<p> 关键字段：</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SYN=1, seq=x</span><br><span class="line">SYN=1, ACK=1,seq=y,ack=x+1</span><br><span class="line">ACK=1, seq=x+1,ack=y+1</span><br></pre></td></tr></table></figure>
</li>
<li><p>TCP连接释放<br> 四次挥手：<br> <img src="/images/四次挥手.png" alt="四次挥手"><br> 第一步：客户机发送释放连接报文<br> 第二步：服务器收到释放报文后发出确认<br> 第三步：服务器发送连接释放报文<br> 第四步：客户机收到释放报文后，发出确认。</p>
<p> 关键字段：</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FIN=1，seq=u</span><br><span class="line">ACK=1,seq=v,ack=u+1</span><br><span class="line">FIN=1,ACK=1,seq=w,ack=u+1</span><br><span class="line">ACK=1,seq=u+1.ack=w+1</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="TCP可靠传输"><a href="#TCP可靠传输" class="headerlink" title="TCP可靠传输"></a>TCP可靠传输</h3><ol>
<li>序号：TCP首部的序号字段用来保证数据有序提交</li>
<li>确认：TCP首部的确认号表示期望收到对方的下一个报文段的数据的第一的字节的序号</li>
<li>重传：<ul>
<li>超时:每发送一个报文段，为其设置计时器，计时器到期还未收到确认则重传该报文</li>
<li>冗余ACK：接收方每收到一个比期望序列号大的失序报文段，发送一个冗余ACK(指明下一个期待字节的序号)给发送方，发送方收到三个冗余ACK就重传.</li>
</ul>
</li>
</ol>
<h3 id="TCP流量控制"><a href="#TCP流量控制" class="headerlink" title="TCP流量控制"></a>TCP流量控制</h3><p>流量控制：流量控制服务匹配发送方的发送速率和接收方的读取速率来防止发送方使接收方缓存溢出。TCP利用窗口机制来实现流量控制。<br>接收窗口rwnd：衡量接收方的接收容量，由TCP报文首部的窗口字段给出。<br>拥塞窗口cwnd：由当前网络的拥塞情况决定，反映网络的当前容量。<br>发送方的发送窗口大小为接收窗口和拥塞窗口中的最小值，反应。  </p>
<h3 id="TCP拥塞控制"><a href="#TCP拥塞控制" class="headerlink" title="TCP拥塞控制"></a>TCP拥塞控制</h3><p>拥塞表现为通信时延的增加，拥塞控制就是防止过多的数据注入网络中。<br>拥塞控制和流量控制：<br>拥塞控制是全局性的过程，涉及所有主机和路由器。<br>流量控制是点对点的通信量控制，由接收端控制发送端。</p>
<p>拥塞控制算法有两种：</p>
<h4 id="1-慢开始和拥塞避免"><a href="#1-慢开始和拥塞避免" class="headerlink" title="1 慢开始和拥塞避免"></a>1 慢开始和拥塞避免</h4><ol>
<li><p>慢开始算法<br> 拥塞窗口大小随着传输次数增加而呈2的指数倍增长，当拥塞窗口增大到慢开始门限(ssthresh)时改用拥塞避免算法。</p>
</li>
<li><p>拥塞避免算法<br>拥塞窗口大小随着传输次数线性增长，当出现网络拥塞时的窗口大小为cwnd，将慢开始门限降至cwnd的一半。</p>
</li>
<li><p>网络拥塞的处理<br>发生拥塞时，将慢开始门限降至出现拥塞时的发送方cwnd的一半，再将拥塞窗口大小重新设为1，执行慢开始算法</p>
</li>
</ol>
<h4 id="2-快重传和快恢复"><a href="#2-快重传和快恢复" class="headerlink" title="2 快重传和快恢复"></a>2 快重传和快恢复</h4><ol>
<li><p>快重传<br>当发送方连续接到3个重复的ACK，直接重传该ACK对应报文段。</p>
</li>
<li><p>快恢复<br>当收到3个冗余ACK时，将慢开始门限设为此时cwnd值的一半，并从慢开始门限处继续执行拥塞避免算法</p>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/21/[学习总结]操作系统_网络层/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lin Hui">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hikari">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/21/[学习总结]操作系统_网络层/" itemprop="url">网络层</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-21T06:57:12+08:00">
                2018-07-21
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2018-07-22T08:24:33+08:00">
                2018-07-22
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/计算机网络/" itemprop="url" rel="index">
                    <span itemprop="name">计算机网络</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  2,629 字
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="网络层功能"><a href="#网络层功能" class="headerlink" title="网络层功能"></a>网络层功能</h2><h3 id="1-异构网络互联"><a href="#1-异构网络互联" class="headerlink" title="1 异构网络互联"></a>1 异构网络互联</h3><p>网络互联通常指用路由器进行网络互联和路由选择，在TCP/IP体系中，参加互联的计算机网络使用相同的IP协议，组成一个虚拟互联网络，该网络对互联的具体网络异构细节是透明的。</p>
<h3 id="2-路由与转发"><a href="#2-路由与转发" class="headerlink" title="2 路由与转发"></a>2 路由与转发</h3><p>路由器主要完成两个功能：路由选择(确定哪一条路径)和分组转发(分组到达时所采取的行动)</p>
<h3 id="3-拥塞控制"><a href="#3-拥塞控制" class="headerlink" title="3 拥塞控制"></a>3 拥塞控制</h3><p>通信子网中，由于出现过量的分组而引起网络性能下降的现象称为拥塞。  </p>
<p>判断：<br>网络负载增加而网络吞吐量明显小于正常吞吐量则网络进入”轻度拥塞”状态；若网络吞吐量随着网络负载的增加反而下降，网络进入拥塞状态；若网络吞吐量下降到零，则网络进入死锁状态。</p>
<p>流量控制和拥塞控制：<br>流量控制只涉及发送端和接收端，通过控制发送端的数据发送速率，使接收端及时接收。拥塞控制是全局问题，涉及网络中所有主机、路由器和导致网络传输能力下降的所有因素。  </p>
<p>拥塞控制方法：  </p>
<ul>
<li>开环控制：事先考虑拥塞因素，预防拥塞产生，是一种静态方法。</li>
<li>闭环控制：事先不做处理，检测到拥塞再处理，是一种动态方法。</li>
</ul>
<h2 id="路由算法"><a href="#路由算法" class="headerlink" title="路由算法"></a>路由算法</h2><h3 id="1-静态路由和动态路由"><a href="#1-静态路由和动态路由" class="headerlink" title="1 静态路由和动态路由"></a>1 静态路由和动态路由</h3><p><strong>静态路由算法</strong>：网络管理员手工配置路由信息<br><strong>动态路由算法</strong>：路由器之之间彼此交换路由信息，按照一定的算法获得最优寻路效果</p>
<h3 id="2-距离-向量路由算法"><a href="#2-距离-向量路由算法" class="headerlink" title="2 距离-向量路由算法"></a>2 距离-向量路由算法</h3><p>距离-向量路由算法中，所有节点定期将它们的整个路由选择表传送给所有直接相邻结点。路由选择表包括：每条路径的目的地和路径的距离(跳数)</p>
<h3 id="3-链路状态路由算法"><a href="#3-链路状态路由算法" class="headerlink" title="3 链路状态路由算法"></a>3 链路状态路由算法</h3><p>链路状态路由中，每个结点都有完全的网络拓扑图，当链路状态发生变化时，结点通过广播方式向所有结点告知与自己直接相连的链路信息。<br><strong>距离-向量路由算法和链路状态路由算法比较</strong>：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>距离-向量路由算法</th>
<th>链路状态路由算法</th>
</tr>
</thead>
<tbody>
<tr>
<td>交流对象</td>
<td>直接相邻结点</td>
<td>其他所有结点</td>
</tr>
<tr>
<td>交流内容</td>
<td>自己到网络中所有其他结点的信息</td>
<td>与自己直接相连的链路信息</td>
</tr>
<tr>
<td>路由环路</td>
<td>有可能出现</td>
<td>无</td>
</tr>
</tbody>
</table>
</div>
<h3 id="4-层次路由"><a href="#4-层次路由" class="headerlink" title="4 层次路由"></a>4 层次路由</h3><p>路由选择按照层次方式进行以适应网路规模的扩大</p>
<ol>
<li>内部网关协议(IGP)：自治系统内部所使用的路由选择协议<ul>
<li>RIP协议</li>
<li>OSPF协议</li>
</ul>
</li>
<li>外部网关协议(EGP):自治系统之间所使用的路由协议<ul>
<li>BGP协议</li>
</ul>
</li>
</ol>
<h2 id="IPv4"><a href="#IPv4" class="headerlink" title="IPv4"></a>IPv4</h2><h3 id="1-IPv4分组"><a href="#1-IPv4分组" class="headerlink" title="1 IPv4分组"></a>1 IPv4分组</h3><ol>
<li><p>IPv4分组格式<br>一个IP分组由首部和数据两部分组成，首部的前一部分长度固定为20(4*5)字节 </p>
<p> <img src="/images/IP数据报.jpg" alt="IP"></p>
<p> IP 首部重要字段：</p>
<pre><code> - 版本：IP协议版本
 - 首部长度：基本单位为4B(32位)
 - 总长度：基本单位为B(即字节)，最大长度为2&lt;sup&gt;16&lt;/sup&gt;-1 = 65535 字节
 - 标识：每产生一个数据报，标识加一；一个数据报的不同分片标识相同
 - 标志：占3位，最低位为MF(more fragment),MF =1 表示还有分片，MF=0 表示最后一个分片；中间位为DF(Don&#39;t Fragment)，DF = 0 表示该数据报允许分片
 - 片偏移：基本单位为8字节(64位)
 - 首部检验和：只检验分组的首部，不检验数据部分
 - 生产时间TTL：数据报可通过路由器数的最大值
 - 协议：传输层协议
</code></pre></li>
<li><p>IP 数据报分片<br>MTU：最大传输单元，指链路层数据报所能承受的最大数据量，以太网的MTU为1500字节。</p>
</li>
<li><p>网络层转发分组的流程</p>
</li>
</ol>
<h3 id="IPv4地址与NAT"><a href="#IPv4地址与NAT" class="headerlink" title="IPv4地址与NAT"></a>IPv4地址与NAT</h3><ol>
<li><p>IPv4地址<br> <img src="/images/IP地址.jpg" alt="IP地址"><br>特殊IP地址：</p>
<ul>
<li>主机号全为0 表示本网络本身</li>
<li>主机号全为1表示本网络的广播地址</li>
<li>127.0.0.0用于环路自检，表示任意主机自身</li>
<li>0.0.0.0表示本网络的本主机</li>
<li>255.255.255.255 表示网络的广播地址</li>
</ul>
</li>
<li><p>网络地址转换(NAT)<br>NAT：NAT通过将内网地址转化为公网地址，对外屏蔽内部IP地址。<br>NAT转换表：储存{本地IP地址：端口}到{全球IP地址：端口}的映射关系<br>NAT看得见端口，故工作在传输层</p>
</li>
</ol>
<h3 id="子网划分与子网掩码、CIDR"><a href="#子网划分与子网掩码、CIDR" class="headerlink" title="子网划分与子网掩码、CIDR"></a>子网划分与子网掩码、CIDR</h3><ol>
<li><p>子网划分<br>从主机位借用若干比特作为子网号，如三级IP地址={网络号，子网号，主机号}</p>
</li>
<li><p>子网掩码<br>子网掩码(二进制)与主机IP地址作 与操作 得到 主机网络号</p>
</li>
<li><p>无分类编址CIDR<br>CIDR：取消传统ABCD类网络划分，采用{网络前缀，主机号}的两级编址<br>路由聚合：将网络前缀相同的连续IP地址组成新的CIDR地址块<br>最长前缀匹配：使用CIDR时查找路由表可能会得到多个匹配结果，应当在匹配结果中找具有最长网络前缀的路由。</p>
</li>
</ol>
<h3 id="ARP协议、DHCP协议与ICMP协议"><a href="#ARP协议、DHCP协议与ICMP协议" class="headerlink" title="ARP协议、DHCP协议与ICMP协议"></a>ARP协议、DHCP协议与ICMP协议</h3><ol>
<li><p>ARP协议(地址解析协议)：<br>每个主机本地高速缓存存放ARP表，用来维护IP地址到MAC地址的映射。A欲向B发数据时，查找ARP表，若找到，则将MAC地址写入MAC帧后发送；若找不到，则向局域网所有主机广播ARP请求，B收到请求后向A发出响应，A更新B的映射关系到ARP表，再次查询后将B的MAC地址写入MAC帧，发送数据。<br>ARP协议工作在网络层。</p>
</li>
<li><p>动态主机配置协议DHCP<br>DHCP 常用于给主机动态地分配IP地址，DHCP是基于UDP的应用层协议<br>DHCP工作原理：<br>需要IP的主机广播发现报文，DHCP服务器收到报文后回答此广播报文，为其分配地址，称为提供报文。<br>DHCP客户端和服务端通过广播方式进行交互。</p>
</li>
</ol>
<h3 id="网际控制报文协议ICMP"><a href="#网际控制报文协议ICMP" class="headerlink" title="网际控制报文协议ICMP"></a>网际控制报文协议ICMP</h3><p>ICMP 是IP层协议，用来报告差错和异常情况。<br>ICMP报文种类：</p>
<ul>
<li>ICMP差错报告报文：<ul>
<li>终点不可达</li>
<li>源点抑制</li>
<li>时间超时</li>
<li>参数问题</li>
<li>改变路由</li>
</ul>
</li>
<li>ICMP询问报文<ul>
<li>会送请求和回答报文</li>
<li>时间戳请求和回答报文</li>
<li>掩码地址请求和回答报文</li>
<li>路由器询问和通告报文</li>
<li>ICMP的应用：</li>
</ul>
</li>
<li>PING：工作在应用层</li>
<li>traceroute：工作在网络层</li>
</ul>
<h2 id="IPv6"><a href="#IPv6" class="headerlink" title="IPv6"></a>IPv6</h2><p>IPv6 采用128位地址</p>
<h2 id="路由协议"><a href="#路由协议" class="headerlink" title="路由协议"></a>路由协议</h2><h3 id="自治系统"><a href="#自治系统" class="headerlink" title="自治系统"></a>自治系统</h3><p>自治系统(AS)：单一技术管理下的一组路由器，使用内部路由选择协议确定分组在AS内的路由，使用域间路由协议确定分组在AS之间的路由。</p>
<h3 id="域内路由与域间路由"><a href="#域内路由与域间路由" class="headerlink" title="域内路由与域间路由"></a>域内路由与域间路由</h3><ol>
<li>内部网关协议</li>
</ol>
<ul>
<li>RIP协议</li>
<li>OSPF协议</li>
</ul>
<ol>
<li>外部网关协议</li>
</ol>
<ul>
<li>BGP-4</li>
</ul>
<h3 id="RIP路由协议"><a href="#RIP路由协议" class="headerlink" title="RIP路由协议"></a>RIP路由协议</h3><p>RIP是一种分布式的基于距离向量的路由选择协议，是基于UDP的应用层协议<br>RIP 协议规定：  </p>
<ul>
<li>路由器维护自己到其他每一个路由器的距离记录(这样一组距离称为距离向量)</li>
<li>每经过一个路由器跳数加一，最多允许15跳，距离为16时表示网络不可达。</li>
<li>优先选择跳数小的路径</li>
</ul>
<p>RIP 协议优点：实现简单，开销小<br>RIP协议缺点：</p>
<ul>
<li>由于要交换完整路由表，网络规模越大，开销越大</li>
<li>网络故障时会出现慢收敛现象，俗称“坏消息传的慢”</li>
</ul>
<h3 id="OSPF路由协议"><a href="#OSPF路由协议" class="headerlink" title="OSPF路由协议"></a>OSPF路由协议</h3><ol>
<li>OSPF协议基本特点<br>开发最短路径优先(OSPF)协议是使用分布式链路状态路由算法的典型代表。<br>OSPF协议特点：</li>
</ol>
<ul>
<li>使用泛红法向所有路由器发送信息</li>
<li>发送信息为与本路由器相邻的所有路由器的链路状态</li>
<li>链路发生变化时，路由器才用泛红法向所有路由器发送此消息，更新收敛块</li>
<li>OSPF是网络层协议,使用IP数据报传送；而RIP是应用层协议，使用UDP传送。</li>
<li>每隔一段时间刷新一次数据库中的链路状态</li>
</ul>
<h3 id="BGP路由协议"><a href="#BGP路由协议" class="headerlink" title="BGP路由协议"></a>BGP路由协议</h3><p>边界网关协议(BGP)是不同自治系统的路由器之间交换路由信息的协议。<br>BGP是基于TCP的应用层协议。<br>工作原理：每个自治系统选择一个“BGP”发言人，发言人之间要交换路由信息时，先建立TCP连接。<br>三种路由协议的比较：  </p>
<div class="table-container">
<table>
<thead>
<tr>
<th>协议</th>
<th>RIP</th>
<th>OSPF</th>
<th>BGP</th>
</tr>
</thead>
<tbody>
<tr>
<td>类型</td>
<td>内部</td>
<td>内部</td>
<td>外部</td>
</tr>
<tr>
<td>路由算法</td>
<td>距离-向量</td>
<td>链路状态</td>
<td>路径-向量</td>
</tr>
<tr>
<td>传递协议</td>
<td>UDP</td>
<td>IP</td>
<td>TCP</td>
</tr>
<tr>
<td>路径选择</td>
<td>跳数最少</td>
<td>代价最低</td>
<td>较好，非最佳</td>
</tr>
<tr>
<td>交换结点</td>
<td>和本结点相邻的路由器</td>
<td>网络中全部路由器</td>
<td>和本结点相邻的路由器</td>
</tr>
<tr>
<td>交换内容</td>
<td>自己的路由表</td>
<td>与本路由器相邻的所有路由器的链路状态</td>
<td>首次：整个路由表；非首次：有变化的部分</td>
</tr>
</tbody>
</table>
</div>
<h2 id="网络层设备"><a href="#网络层设备" class="headerlink" title="网络层设备"></a>网络层设备</h2><h3 id="路由器组成和功能"><a href="#路由器组成和功能" class="headerlink" title="路由器组成和功能"></a>路由器组成和功能</h3><p>路由器是一种具有多个输入输出端口的专用计算机，其任务是连接异构的网络并完成路由转发。<br>路由器是网络层设备，它实现了物理层、数据链路层和网络层。  </p>
<p>路由器组成：</p>
<ul>
<li>路由选择：控制部分，其任务是根据路由选择协议构造路由表，并对路由表进行维护和更新。</li>
<li>分组转发：<ul>
<li>交换结构：处理分组</li>
<li>一组输入端口：从比特流提取网络从数据</li>
<li>一组输出端口：与输入端口进行相反操作</li>
</ul>
</li>
</ul>
<h3 id="路由表与路由转发"><a href="#路由表与路由转发" class="headerlink" title="路由表与路由转发"></a>路由表与路由转发</h3><p>路由表根据路由选择算法得出，用于路由选择。包含目的网络IP地址、子网掩码、下一跳IP地址和接口。<br>转发表由路由表得出，包含分组的目的地址和下一跳地址(MAC)</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/19/[学习总结]计算机网络_数据链路层/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lin Hui">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hikari">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/19/[学习总结]计算机网络_数据链路层/" itemprop="url">数据链路层</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-19T10:09:12+08:00">
                2018-07-19
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2018-07-21T00:17:42+08:00">
                2018-07-21
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/计算机网络/" itemprop="url" rel="index">
                    <span itemprop="name">计算机网络</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  2,578 字
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="数据链路层的功能"><a href="#数据链路层的功能" class="headerlink" title="数据链路层的功能"></a>数据链路层的功能</h2><h3 id="为网络层提供服务"><a href="#为网络层提供服务" class="headerlink" title="为网络层提供服务"></a>为网络层提供服务</h3><ol>
<li>无确认的无连接服务</li>
<li>有确认的无连接服务</li>
<li>有确认的面向连接服务</li>
</ol>
<h3 id="链路管理"><a href="#链路管理" class="headerlink" title="链路管理"></a>链路管理</h3><p>数据链路层连接的建立、维持和释放过程称为链路管理</p>
<ol>
<li>帧定界、帧同步与透明传输</li>
</ol>
<ul>
<li>帧定界：数据加首部和尾部构成帧，首尾用于帧的定界</li>
<li>帧同步：接收端区分帧的起始和结束</li>
<li>透明传输：若在数据中出现与定界符相同的比特组合，进行转意</li>
</ul>
<h3 id="流量控制"><a href="#流量控制" class="headerlink" title="流量控制"></a>流量控制</h3><p>限制发送方数据流量，使其处在接收方接受能力之内</p>
<h3 id="差错控制"><a href="#差错控制" class="headerlink" title="差错控制"></a>差错控制</h3><p>差错控制用于确保接收方正确接受数据</p>
<ul>
<li>位错：帧中某位出现差错，通常采用循环冗余校验(CRC) 发现位错，通过自动重传请求(ARQ)来重传出错的帧</li>
<li>帧错： 帧的丢失、重复或失序等，引入定时器和编号机制。</li>
</ul>
<h2 id="组帧"><a href="#组帧" class="headerlink" title="组帧"></a>组帧</h2><p>组帧主要解决帧定界、帧同步、透明传输问题。实现组帧的方法有以下四种</p>
<h3 id="字符统计法"><a href="#字符统计法" class="headerlink" title="字符统计法"></a>字符统计法</h3><p>在帧头部使用一个计数字段来标明帧内字符数</p>
<h3 id="字符填充的首尾定界符法"><a href="#字符填充的首尾定界符法" class="headerlink" title="字符填充的首尾定界符法"></a>字符填充的首尾定界符法</h3><p>使用特点的定界字符来定界一帧的开始和结束，使用转意字符来实现透明传输</p>
<h3 id="比特填充的首尾标志法"><a href="#比特填充的首尾标志法" class="headerlink" title="比特填充的首尾标志法"></a>比特填充的首尾标志法</h3><p>用01111110(16进制为7E)来标志一帧的开始和结束。<br>透明传输实现：发送方信息中每遇到5个连续的‘1’则在其后插入一个‘0’，接受方每遇到5个连续的‘1’则自动删除其后的‘0’。</p>
<h3 id="违规编码法"><a href="#违规编码法" class="headerlink" title="违规编码法"></a>违规编码法</h3><p>如，曼切斯特编码中使用未定义的高-高电平对和低-低电平对作为定界帧</p>
<h2 id="差错控制-1"><a href="#差错控制-1" class="headerlink" title="差错控制"></a>差错控制</h2><h3 id="检错编码"><a href="#检错编码" class="headerlink" title="检错编码"></a>检错编码</h3><ol>
<li>奇偶校验码</li>
<li>循环冗余码(CRC):<br>发送方和接收方商定除数P，二进制数据A采用模2运算(加法不进位，减法不借位，类似异或)除以P，得到余数加在A末尾，并令其为B，将B传输给接收方，接收方将B除以P，若余数为0则传输未出错。</li>
<li>纠错编码<br>最常见的纠错编码是海明码</li>
</ol>
<h2 id="流量控制与可靠传输机制"><a href="#流量控制与可靠传输机制" class="headerlink" title="流量控制与可靠传输机制"></a>流量控制与可靠传输机制</h2><h3 id="流量控制、可靠传输与滑动窗口机制"><a href="#流量控制、可靠传输与滑动窗口机制" class="headerlink" title="流量控制、可靠传输与滑动窗口机制"></a>流量控制、可靠传输与滑动窗口机制</h3><ol>
<li>停止-等待协议流量控制基本原理<br>发送方每发一个帧要等待接收方应答才能继续发，接收方每接收一个帧都要反馈一个应答信号</li>
<li>滑动窗口流量控制基本原理<br>发送方维护发送窗口，接收方维护接收窗口，发送窗口用来对发送方进行流量控制，接收窗口用来对接收数据帧进行控制。<br>滑动窗口特性：只有接受窗口向前滑动时(接受窗口发送确认帧)，发送窗口才能向前滑动；当滑动窗口大小为1，可保证帧的有序接受；数据链路层的滑动窗口大小在传输过程中是固定的。 </li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>发送窗口大小</th>
<th>接受窗口大小</th>
</tr>
</thead>
<tbody>
<tr>
<td>停止-等待协议</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>后退N帧协议</td>
<td>&gt;1</td>
<td>1</td>
</tr>
<tr>
<td>选择重传协议</td>
<td>&gt;1</td>
<td>&gt;1</td>
</tr>
</tbody>
</table>
</div>
<ol>
<li>可靠传输机制</li>
</ol>
<ul>
<li>确认：接受方对接收数据进行确认并告知发送方</li>
<li>超时重传：</li>
<li>自动重传请求(ARQ)：<ul>
<li>停-等式</li>
<li>后退N帧</li>
<li>选择重传</li>
</ul>
</li>
</ul>
<h3 id="单帧滑动窗口与停止-等待协议"><a href="#单帧滑动窗口与停止-等待协议" class="headerlink" title="单帧滑动窗口与停止-等待协议"></a>单帧滑动窗口与停止-等待协议</h3><p>源站发送单个帧之后必须等待确认，在目的站的回答到达源站之前，源站不能发送其他数据帧</p>
<h3 id="多帧滑动窗口与后退N帧协议-GBN"><a href="#多帧滑动窗口与后退N帧协议-GBN" class="headerlink" title="多帧滑动窗口与后退N帧协议(GBN)"></a>多帧滑动窗口与后退N帧协议(GBN)</h3><p>发送方发送N个帧，如果该N帧的前一个帧被判为出错或丢失，则发送方重传该出错帧及其后N帧。<br>发送窗口大小W<sub>T</sub>: 1&lt;= W<sub>T</sub>&lt;=2<sup>n</sup>-1 (n为对帧编码的比特数)： </p>
<h3 id="多帧滑动窗口与选择重传协议-SR"><a href="#多帧滑动窗口与选择重传协议-SR" class="headerlink" title="多帧滑动窗口与选择重传协议(SR)"></a>多帧滑动窗口与选择重传协议(SR)</h3><p>一般情况下，发送窗口=接受窗口=2<sup>(n-1)</sup>,只对出错或超时的数据帧进行重传。<br>信道的效率：发送方从开始发送数据，到接收到第一个确认帧为止，称为一个发送周期，设为T，发送方在这个周期内共发送L比特的数据，发送方的数据传输率为C，则发送方用于发送有效数据的时间为L/C ,在这种情况下，信道的利用率为(L/C)/T。<br>信道吞吐率：信道利用率 * 发送方的发送速率。</p>
<h2 id="介质访问控制"><a href="#介质访问控制" class="headerlink" title="介质访问控制"></a>介质访问控制</h2><p>介质访问控制的内容是：采取一定的措施，使任意两点之间的通信不会发送互相干扰的情况。</p>
<h3 id="信道划分介质访问控制"><a href="#信道划分介质访问控制" class="headerlink" title="信道划分介质访问控制"></a>信道划分介质访问控制</h3><ol>
<li>频分多路复用(FDM)<br>多路信号调制成不同频率载波后叠加成复合信号</li>
<li>时分多路复用(TDM)<br>一条物理信道按时间分成若干时间片，轮流地分配给多个信号使用</li>
<li>波分多路复用(WDM)<br>即光的频分多路复用</li>
<li>码分多路复用(CDM)<br>码分多路复用靠不同的编码来区分各路原始信号。<br>码分多址(CDMA)是码分复用的一种方式<br>CMDA原理:<br>向量S表示A站的码片向量，T表示B站的码片向量,S和T均为m比特，则  <script type="math/tex; mode=display">S\cdot T=\frac{1}{m}\sum_{i=1}^mS_iT_i=0</script><script type="math/tex; mode=display">S\cdot S=\frac{1}{m}\sum_{i=1}^mS_iS_i=1</script>即不同站码片正交，相同码片规格化内积为1，码片与其反码规格化内积为-1</li>
</ol>
<h3 id="随机访问介质访问控制"><a href="#随机访问介质访问控制" class="headerlink" title="随机访问介质访问控制"></a>随机访问介质访问控制</h3><p>不采用集中控制方式解决发送信息的次序问题，胜利者通过争用获得信道，从而获得信息的发送权。</p>
<ol>
<li>ALOHA协议</li>
</ol>
<ul>
<li>纯ALOHA协议：任意站点可以不经检测直接发送数据，若一段时间未收到确认，则等待一段时间再发送数据。</li>
<li>时隙ALOHA协议：将时间划分为一段段等长的时隙，每个时隙开始时只能发送一个帧。其效率是纯ALOHA协议的两倍</li>
</ul>
<ol>
<li>CSMA协议<br>在ALOHA协议基础上增加了载波监听装置<br>根据监听方式和处理方式不同，有3种CSMA协议</li>
</ol>
<ul>
<li>1-坚持 CSMA：信道闲则发送数据，忙则等待并继续监听侦听，若发生冲突则随机一段时间后，再重新开始侦听</li>
<li>非坚持 CSMA：信道闲则发送数据，忙则等待，并放弃侦听，等待一段时间后继续监听</li>
<li>p-坚持CSMA：用于时分信道。信道忙则等待下一个时隙再侦听，闲则以概率P发送数据，以概率(1-p)推迟到下一个时隙。</li>
</ul>
<h3 id="CSMA-CD-协议"><a href="#CSMA-CD-协议" class="headerlink" title="CSMA/CD 协议"></a>CSMA/CD 协议</h3><p>CSMA/CD协议是CSMA协议的改进方案，CSMA/CD 只能进行半双工通信<br>CSMA/CD的工作流程：</p>
<ul>
<li>先听后发</li>
<li>边听边发</li>
<li>冲突停发</li>
<li>随机重发</li>
</ul>
<p>计算相关：</p>
<ul>
<li>单程传播时延/总线传播时延：数据从源点发送到目的点接收所用时间</li>
<li>争用期(冲突窗口/碰撞窗口)：数据的往返时间，两倍单程传播时延</li>
<li>最小帧长：为了确保发送数据的同时能检测可能的冲突，数据帧有个最小长度<br>最小帧长=总线传播时延*数据传输速率*2</li>
</ul>
<h3 id="CSMA-CA-协议"><a href="#CSMA-CA-协议" class="headerlink" title="CSMA/CA 协议"></a>CSMA/CA 协议</h3><p>CSMA/CD用于有线局域网，CSMA/CA用于无线局域网</p>
<h3 id="轮询访问介质访问协议：令牌传递协议"><a href="#轮询访问介质访问协议：令牌传递协议" class="headerlink" title="轮询访问介质访问协议：令牌传递协议"></a>轮询访问介质访问协议：令牌传递协议</h3><p>令牌在环形网上游荡，只有持有令牌的计算机才能发送数据。</p>
<h2 id="局域网"><a href="#局域网" class="headerlink" title="局域网"></a>局域网</h2><h3 id="局域网的基本概念体系结构"><a href="#局域网的基本概念体系结构" class="headerlink" title="局域网的基本概念体系结构"></a>局域网的基本概念体系结构</h3><ol>
<li>局域网三要素</li>
</ol>
<ul>
<li>拓扑结构<ul>
<li>星形</li>
<li>环形</li>
<li>总线形</li>
<li>复合类型</li>
</ul>
</li>
<li>传输介质<ul>
<li>双绞线</li>
<li>铜缆</li>
<li>光纤</li>
</ul>
</li>
<li>介质访问控制方式<ul>
<li>CSMA/CD</li>
<li>令牌总线</li>
<li>令牌环</li>
</ul>
</li>
</ul>
<h3 id="以太网与IEEE-802-3"><a href="#以太网与IEEE-802-3" class="headerlink" title="以太网与IEEE 802.3"></a>以太网与IEEE 802.3</h3><ol>
<li>以太网传输介质与网卡<br>传输介质：粗缆、细缆、双绞线、光纤<br>网卡：局域网中连接计算机和传输介质的接口，工作在物理层和数据链路层<br>Mac地址：介质访问控制地址用于控制主机在网络上的数据通信<br>广播：以太网中的数据以广播形式发送</li>
<li>以太网的MAC帧</li>
<li>高速以太网</li>
</ol>
<h3 id="IEEE-902-3"><a href="#IEEE-902-3" class="headerlink" title="IEEE 902.3"></a>IEEE 902.3</h3><p>IEEE 902.3是无线局域网的一系列协议标准</p>
<h2 id="广域网"><a href="#广域网" class="headerlink" title="广域网"></a>广域网</h2><h3 id="广域网基本概念"><a href="#广域网基本概念" class="headerlink" title="广域网基本概念"></a>广域网基本概念</h3><p>广域网是覆盖范围很广的长距离网络。局域网主要使用协议在数据链路层而广域网主要使用协议在网络层。常见的广域网数据链路层协议有PPP协议和HDLC协议。</p>
<h3 id="PPP协议"><a href="#PPP协议" class="headerlink" title="PPP协议"></a>PPP协议</h3><p>PPP协议是使用串行路线通信的面向字节协议。<br>PPP协议组成部分：</p>
<ul>
<li>链路控制协议LCP</li>
<li>网络控制协议NCP：</li>
<li>IP数据报封装到串行链路的方法<br>PPP协议是点对点的，不是总线形的，故无需采用CSMA/CD，帧长度页没有限制。PPP协议只支持全双工通信</li>
</ul>
<h3 id="HDLC协议"><a href="#HDLC协议" class="headerlink" title="HDLC协议"></a>HDLC协议</h3><p>HDCL协议是面向比特的数据链路层协议。与PPP协议不同，HDCL协议采用了编号和确认机制，可以实现可靠传输。</p>
<h2 id="数据链路层设备"><a href="#数据链路层设备" class="headerlink" title="数据链路层设备"></a>数据链路层设备</h2><h3 id="网桥"><a href="#网桥" class="headerlink" title="网桥"></a>网桥</h3><p>两个以太网通过网桥连接，原来的每一个以太网称为网段，网桥工作在数据链路层的MAC层，可以使以太网成为隔离开的碰撞域</p>
<ol>
<li>透明网桥(选择的不是最佳路径)</li>
<li>源路径网桥(选择的是最佳路径)</li>
</ol>
<h3 id="交换机"><a href="#交换机" class="headerlink" title="交换机"></a>交换机</h3><p>交换机是一个多端口网桥，可以隔离冲突域和广播域  </p>
<ol>
<li>原理：<br>检测数据帧的源和目的Mac地址，然后与系统内部动态查找表进行比较，如果MAC不再表中，则将该地址加入表中，并将数据帧发送到相应目的端口。</li>
<li>特点</li>
</ol>
<ul>
<li>工作在全双工方式</li>
<li>独占传输媒体的带宽</li>
</ul>
<ol>
<li>交换模式</li>
</ol>
<ul>
<li>直通式</li>
<li>存储转发式</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/17/[学习总结]计算机网络_计算机网络体系结构/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lin Hui">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hikari">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/17/[学习总结]计算机网络_计算机网络体系结构/" itemprop="url">计算机网络体系结构</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-17T13:57:12+08:00">
                2018-07-17
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2018-07-18T00:20:34+08:00">
                2018-07-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/计算机网络/" itemprop="url" rel="index">
                    <span itemprop="name">计算机网络</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  895 字
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="计算机网络概述"><a href="#计算机网络概述" class="headerlink" title="计算机网络概述"></a>计算机网络概述</h2><h3 id="计算机网络的概念"><a href="#计算机网络的概念" class="headerlink" title="计算机网络的概念"></a>计算机网络的概念</h3><p>计算机网络是互联的、自治的计算机系统的集合</p>
<h3 id="计算机网络的组成"><a href="#计算机网络的组成" class="headerlink" title="计算机网络的组成"></a>计算机网络的组成</h3><ol>
<li>组成成分：</li>
</ol>
<ul>
<li>硬件</li>
<li>软件</li>
<li>协议</li>
</ul>
<ol>
<li>工作方式</li>
</ol>
<ul>
<li>边缘部分：用户主机</li>
<li>核心部分：提供连通性、服务的网络和路由器</li>
</ul>
<ol>
<li>功能组成</li>
</ol>
<ul>
<li>通讯子网：传输介质、通讯设备、网络协议组成</li>
<li>资源子网：实现资源共享功能的设备及软件集合</li>
</ul>
<h3 id="计算机网络功能"><a href="#计算机网络功能" class="headerlink" title="计算机网络功能"></a>计算机网络功能</h3><ol>
<li>数据通信</li>
<li>资源共享</li>
<li>分布式处理</li>
<li>提高可靠性</li>
<li>负载均衡</li>
</ol>
<h3 id="计算机网络的分类"><a href="#计算机网络的分类" class="headerlink" title="计算机网络的分类"></a>计算机网络的分类</h3><ol>
<li>按分别范围分类</li>
</ol>
<ul>
<li>广域网(WAN)</li>
<li>城域网(MAN)</li>
<li>局域网(LAN)</li>
<li>个人区域网(PAN)</li>
</ul>
<ol>
<li>按传输技术分类</li>
</ol>
<ul>
<li>广播式网络</li>
<li>点对点网络</li>
</ul>
<ol>
<li>按拓扑结构分类</li>
</ol>
<ul>
<li>星形网络</li>
<li>总线形网络</li>
<li>网络形网络</li>
</ul>
<ol>
<li>按使用者分类</li>
</ol>
<ul>
<li>公用网</li>
<li>专用网</li>
</ul>
<ol>
<li>按交换技术分类</li>
</ol>
<ul>
<li>电路交换网络：源结点和目标结点间建立专用通路用于传送数据</li>
<li>报文交换网络：数据封装成报文，通过结点转发传输整个报文，直到到达目的结点</li>
<li>分组交换网络：数据分成较短的固定长度数据块并封装成分组，以存储-转发方式传输</li>
</ul>
<ol>
<li>按传输介质分类</li>
</ol>
<ul>
<li>有线网络</li>
<li>无线网络</li>
</ul>
<h3 id="计算机网络的性能指标"><a href="#计算机网络的性能指标" class="headerlink" title="计算机网络的性能指标"></a>计算机网络的性能指标</h3><ol>
<li>带宽：网络通信线路所能传送数据的能力，单位是“比特每秒”(b/s)</li>
<li>时延：数据从一端传送到另一端的时间</li>
</ol>
<ul>
<li>发送时延：</li>
<li>传播时延</li>
<li>处理时延</li>
<li>排队时延</li>
<li>总时延：以上四种时延之和</li>
</ul>
<ol>
<li>时延带宽积：传播时延 X 信道带宽</li>
<li>往返时延(RTT)： </li>
<li>吞吐量： 单位时间通过某个网络的数据量，受网络带宽限制</li>
<li>速率：主机传送数据的速率，最高数据率即为带宽，单位为b/s，Kb/s(K=10^3),Mb/s(M=10^6),Gb/s(G=10^9)</li>
</ol>
<h2 id="计算机网络体系结构与参考模型"><a href="#计算机网络体系结构与参考模型" class="headerlink" title="计算机网络体系结构与参考模型"></a>计算机网络体系结构与参考模型</h2><h3 id="计算机网络分层结构"><a href="#计算机网络分层结构" class="headerlink" title="计算机网络分层结构"></a>计算机网络分层结构</h3><ol>
<li>体系结构：计算机各层及其协议的集合</li>
<li>分层基本原则</li>
</ol>
<ul>
<li>每一层实现功能相对独立</li>
<li>各层之间界面清晰，交流少</li>
<li>各层功能的定义独立于具体实现</li>
<li>下层对上层独立，上层单向使用下层服务</li>
<li>分层结构标准化</li>
</ul>
<h3 id="计算机网络协议、接口、服务的概念"><a href="#计算机网络协议、接口、服务的概念" class="headerlink" title="计算机网络协议、接口、服务的概念"></a>计算机网络协议、接口、服务的概念</h3><ol>
<li>协议：控制对等实体进行通信的规则的集合</li>
<li>接口：相邻两层交换信息的连接点</li>
<li>服务：下层为紧相邻的上层提高的功能调用，交换命令称为服务原语：请求、指示、响应、证实。</li>
<li>服务类型</li>
</ol>
<ul>
<li>面向连接服务与无连接服务<ul>
<li>面向连接服务：如TCP</li>
<li>无连接服务：如IP、UDP</li>
</ul>
</li>
<li>可靠服务和不可靠服务<ul>
<li>可靠服务：网络具有纠错、检错、应答功能，保证可靠传输</li>
<li>不可靠服务：不保证可靠传输</li>
</ul>
</li>
<li>有应答服务和无应答服务<ul>
<li>有应答服务：如文件传输服务</li>
<li>无应答服务：如WWW服务</li>
</ul>
</li>
</ul>
<h3 id="ISO-OSI参考模型和TCP-IP模型"><a href="#ISO-OSI参考模型和TCP-IP模型" class="headerlink" title="ISO/OSI参考模型和TCP/IP模型"></a>ISO/OSI参考模型和TCP/IP模型</h3><ol>
<li>OSI参考模型</li>
</ol>
<ul>
<li>物理层</li>
<li>数据链路层</li>
<li>网络层</li>
<li>传输层</li>
<li>会话层</li>
<li>表示层</li>
<li>应用层</li>
</ul>
<ol>
<li>TCP/IP 模型</li>
</ol>
<ul>
<li>网络接口层</li>
<li>网际层</li>
<li>传输层</li>
<li>应用层</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/17/[学习总结]计算机网络_物理层/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lin Hui">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hikari">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/17/[学习总结]计算机网络_物理层/" itemprop="url">物理层</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-17T13:57:12+08:00">
                2018-07-17
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2018-07-19T10:05:20+08:00">
                2018-07-19
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/计算机网络/" itemprop="url" rel="index">
                    <span itemprop="name">计算机网络</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1,032 字
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="通信基础"><a href="#通信基础" class="headerlink" title="通信基础"></a>通信基础</h2><h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3><ol>
<li>数据、信号、码元</li>
</ol>
<ul>
<li>数据：传送信息的实体</li>
<li>信号：数据的电气或电磁表现，是数据传输过程的存在形式</li>
<li>码元：一个固定时长的信号波形</li>
</ul>
<ol>
<li>信源、信道、信宿</li>
</ol>
<ul>
<li>信源：产生数据的源头</li>
<li>信宿：接受数据的终点</li>
<li>信道：信号的传输介质</li>
<li>通信交互方式：<ul>
<li>单工通信：单向传输，一条信道</li>
<li>半双工通信：双向传输，不可同时收发，两条信道</li>
<li>全双工通信：双向传输，可同时收发，两条信道</li>
</ul>
</li>
</ul>
<ol>
<li>速率、波特、带宽</li>
</ol>
<ul>
<li>速率(数据率)：数据传输速率：<ul>
<li>码元传输速率：单位时间传输的码元数，单位为波特(Baud)</li>
<li>信息传输速率：单位时间传输的二进制码元数(即比特数)，单位比特/秒(b/s)</li>
</ul>
</li>
<li>带宽：单位时间内网络中两点间的最高数据率</li>
</ul>
<h3 id="奈奎斯特定理与香农定理"><a href="#奈奎斯特定理与香农定理" class="headerlink" title="奈奎斯特定理与香农定理"></a>奈奎斯特定理与香农定理</h3><ol>
<li><p>奈奎斯特定理：<br> 理想低通信道下的极限数据传输率 = 2Wlog<sub>2</sub>V<br>其中W是理想低通信道的带宽,单位HZ，V是每个码元离散电平数目(如四位二进制有16种不同码元)</p>
</li>
<li><p>香农定理：<br> 信道的极限数据传输速率 = Wlog<sub>2</sub>(1+S/N)<br>信噪比 = 10log<sub>10</sub>(S/N) 单位(dB)</p>
</li>
</ol>
<h3 id="编码与调制"><a href="#编码与调制" class="headerlink" title="编码与调制"></a>编码与调制</h3><p>数据变换为模拟信号的过程称为调制，数据变换为数字信号的过程称为编码</p>
<ol>
<li>数字数据编码为数字信号</li>
</ol>
<ul>
<li>非归零码</li>
<li>曼切斯特编码</li>
<li>差分曼切斯特编码</li>
</ul>
<ol>
<li>数字数据调制为模拟数据</li>
</ol>
<ul>
<li>幅移键控</li>
<li>频移键控</li>
<li>相移键控</li>
<li>正交振幅调制</li>
</ul>
<ol>
<li>模拟数据编码为数字数据</li>
<li>模拟数据编码为模拟信号</li>
</ol>
<h3 id="电路交换、报文交换、分组交换"><a href="#电路交换、报文交换、分组交换" class="headerlink" title="电路交换、报文交换、分组交换"></a>电路交换、报文交换、分组交换</h3><ol>
<li>电路交换: 数据传输前，两结点间建立专用物理通信路径</li>
<li>报文交换：利用报文进行存储转发</li>
<li>分组交换：利用分组进行存储转发<br>！<a href="/images/数据交换方式.png">数据交换方式</a>  </li>
</ol>
<h3 id="数据报与虚电路"><a href="#数据报与虚电路" class="headerlink" title="数据报与虚电路"></a>数据报与虚电路</h3><p>分组交换分为面向无连接的数据报方式和面向连接的虚电路方式</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>数据报服务</th>
<th>虚电路服务</th>
</tr>
</thead>
<tbody>
<tr>
<td>连接的建立</td>
<td>不要</td>
<td>必须有</td>
</tr>
<tr>
<td>目的地址</td>
<td>每个分组都有完整的目的地址</td>
<td>仅在建立连接阶段使用，之后每个分组使用长度较短的虚电路号</td>
</tr>
<tr>
<td>路由选择</td>
<td>每个分组独立地进行路由选择和转发</td>
<td>属于同一条虚电路的分组按照同一路由转发</td>
</tr>
<tr>
<td>分组顺序</td>
<td>不保证分组的有序到达</td>
<td>保证分组的有序到达</td>
</tr>
<tr>
<td>可靠性</td>
<td>不保证可靠通信可靠性由用户主机来保证</td>
<td>可靠性由网络保证</td>
</tr>
<tr>
<td>对网络故障的适应性</td>
<td>出故障的结点丢失分组，其他分组路径选择发生变化，可正常传输</td>
<td>所有经过故障结点的虚电路均不能正常工作</td>
</tr>
<tr>
<td>差错处理和流量控制</td>
<td>由用户主机进行流量控制，不保证数据报的可靠性</td>
<td>可由分组交换网负责，也可由用户主机负责</td>
</tr>
</tbody>
</table>
</div>
<h2 id="传输介质"><a href="#传输介质" class="headerlink" title="传输介质"></a>传输介质</h2><h3 id="双绞线、同轴电缆、光纤与无线传输介质"><a href="#双绞线、同轴电缆、光纤与无线传输介质" class="headerlink" title="双绞线、同轴电缆、光纤与无线传输介质"></a>双绞线、同轴电缆、光纤与无线传输介质</h3><ol>
<li>双绞线</li>
<li>同轴电缆</li>
<li>光纤</li>
<li>无线传输介质</li>
</ol>
<h3 id="物理层接口的特性"><a href="#物理层接口的特性" class="headerlink" title="物理层接口的特性"></a>物理层接口的特性</h3><ol>
<li>机械特性：定义物理连接的边界点</li>
<li>电气特性：规定信号电压高低和阻抗匹配等</li>
<li>功能特性：指明电压意义和信号线用途等</li>
<li>规程特性：定义物理接口的工作规范</li>
</ol>
<h3 id="物理层设备"><a href="#物理层设备" class="headerlink" title="物理层设备"></a>物理层设备</h3><ol>
<li>中继器：信号整形并放大(但是中继器的原理是将衰减信号再生，而不是放大)在转发。受信号延迟规范制约，中继器不能无限增加。</li>
<li>集线器(Hub)：多端口中继器,只能够在半双工下工作，多个端口均分总带宽。</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/16/[学习总结]操作系统_IO管理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lin Hui">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hikari">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/16/[学习总结]操作系统_IO管理/" itemprop="url">IO管理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-16T21:48:12+08:00">
                2018-07-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2018-07-16T23:32:57+08:00">
                2018-07-16
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/操作系统/" itemprop="url" rel="index">
                    <span itemprop="name">操作系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  362 字
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="I-O管理概述"><a href="#I-O管理概述" class="headerlink" title="I/O管理概述"></a>I/O管理概述</h2><h3 id="I-O设备"><a href="#I-O设备" class="headerlink" title="I/O设备"></a>I/O设备</h3><ol>
<li>按使用特性分类</li>
</ol>
<ul>
<li>人机交互类外部设备</li>
<li>存储设备</li>
<li>网络通讯设备</li>
</ul>
<ol>
<li>按传输速率分类</li>
</ol>
<ul>
<li>低速设备</li>
<li>中速设备</li>
<li>高速设备</li>
</ul>
<ol>
<li>按信息交换的单位分类</li>
</ol>
<ul>
<li>块设备</li>
<li>字符设备</li>
</ul>
<h3 id="I-O控制方式"><a href="#I-O控制方式" class="headerlink" title="I/O控制方式"></a>I/O控制方式</h3><ol>
<li>程序直接控制方式</li>
<li>中断驱动方式： 允许IO设备打断CPU的运行并请求服务</li>
<li>DMA方式:IO设备和内存之间开通直接的数据交换通路</li>
<li>通道控制方式：引入专门的IO处理机进行管理(“CPU代理”)4</li>
</ol>
<h3 id="I-O子系统的层次结构"><a href="#I-O子系统的层次结构" class="headerlink" title="I/O子系统的层次结构"></a>I/O子系统的层次结构</h3><ol>
<li>用户层I/O软件</li>
<li>设备独立性软件</li>
<li>设备驱动程序</li>
<li>中断处理程序</li>
<li>硬件部分</li>
</ol>
<h3 id="I-O-核心子系统"><a href="#I-O-核心子系统" class="headerlink" title="I/O 核心子系统"></a>I/O 核心子系统</h3><ol>
<li>I/O调度：确定执行I/O请求的顺序</li>
<li>磁盘高速缓存：</li>
<li><p>缓冲区：</p>
<ul>
<li>单缓冲</li>
<li>双缓冲</li>
<li>循环缓冲</li>
<li>缓冲池</li>
</ul>
</li>
<li><p>设备分配与回收  </p>
</li>
</ol>
<ul>
<li>分类：<ul>
<li>独占式使用设备</li>
<li>分时式共享使用设备</li>
<li>SPOOLing方式使用外部设备</li>
</ul>
</li>
<li>设备分配原则：<ul>
<li>充分发挥设备使用效率</li>
<li>避免死锁</li>
<li>用户程序和具体设备无关</li>
</ul>
</li>
<li>分配方式：<ul>
<li>静态分配：作业开始前，系统一次性分配作业要求设备</li>
<li>动态分配：进程执行过程中根据需要进行分配</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/16/[学习总结]操作系统_文件管理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lin Hui">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hikari">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/16/[学习总结]操作系统_文件管理/" itemprop="url">文件管理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-16T15:15:12+08:00">
                2018-07-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2018-07-21T07:44:57+08:00">
                2018-07-21
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/操作系统/" itemprop="url" rel="index">
                    <span itemprop="name">操作系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1,062 字
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="文件系统基础"><a href="#文件系统基础" class="headerlink" title="文件系统基础"></a>文件系统基础</h2><h3 id="文件的概念"><a href="#文件的概念" class="headerlink" title="文件的概念"></a>文件的概念</h3><ol>
<li>文件的定义<br>　　文件是以计算机硬盘为载体存储在计算机上的信息集合。文件系统是管理文件的机构</li>
<li>文件自底向上结构  <ul>
<li>数据项：文件系统最低级数据组织形式</li>
<li>记录：一组相关数据项的集合</li>
<li>文件：创建者定义的一组相关信息集合</li>
</ul>
</li>
<li>文件属性<ul>
<li>名称</li>
<li>大小</li>
<li>类型</li>
<li>位置</li>
<li>保护</li>
<li>时间、日期和用户标识</li>
</ul>
</li>
<li>文件基本操作<ul>
<li>创建文件</li>
<li>读文件</li>
<li>写文件</li>
<li>文件重定位</li>
<li>删除文件</li>
<li>截断文件</li>
</ul>
</li>
<li>文件的打开和关闭<br> 打开文件信息<ul>
<li>文件指针</li>
<li>文件打开计数</li>
<li>文件磁盘位置</li>
</ul>
</li>
</ol>
<h3 id="文件逻辑结构"><a href="#文件逻辑结构" class="headerlink" title="文件逻辑结构"></a>文件逻辑结构</h3><ol>
<li>无结构文件(流式文件)</li>
<li>有结构文件(记录式文件)</li>
</ol>
<ul>
<li>顺序文件：<ul>
<li>串结构：记录之间的顺序与关键字无关</li>
<li>顺序结构：记录按照关键字排序</li>
</ul>
</li>
<li>引索文件</li>
<li>引索顺序文件</li>
<li>直接文件或散列文件</li>
</ul>
<h3 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h3><p>目录管理通过树形结构实现</p>
<ol>
<li>文件控制块(FCB)和索引结点<ul>
<li>文件控制块：<ul>
<li>基本信息</li>
<li>文件控制信息</li>
<li>使用信息</li>
</ul>
</li>
<li>索引结点</li>
</ul>
</li>
<li>目录结构<ul>
<li>目录操作<ul>
<li>搜索</li>
<li>创建文件</li>
<li>删除文件</li>
<li>显示目录</li>
<li>修改目录</li>
</ul>
</li>
<li>目录结构<ul>
<li>单级目录结构</li>
<li>两级目录结构</li>
<li>多级目录结构：如Linux的目录结构</li>
<li>无环图目录结构</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="文件共享"><a href="#文件共享" class="headerlink" title="文件共享"></a>文件共享</h3><p>文件共享：多个用户或进程共享一份文件，系统中只保留该文件一份副本</p>
<ol>
<li>基于索引结点的共享方式(硬链接)<br>多个指针指向一个索引结点，只要还有指针指向该索引节点，该索引结点就不能删除</li>
<li>利用符号链实现文件共享(软连链接)<br>记录到达共享文件的路径，根据文件路径找文件。  </li>
<li>比较：硬链接比软链接查找速度快</li>
</ol>
<h3 id="文件保护"><a href="#文件保护" class="headerlink" title="文件保护"></a>文件保护</h3><p>文件保护通过口令保护、加密保护和访问控制方式实现</p>
<ol>
<li>访问类型<ul>
<li>读</li>
<li>写</li>
<li>执行</li>
<li>添加</li>
<li>删除</li>
<li>列表清单</li>
</ul>
</li>
<li>访问类型<ul>
<li>拥有者</li>
<li>组</li>
<li>其他用户</li>
</ul>
</li>
</ol>
<h2 id="文件系统实现"><a href="#文件系统实现" class="headerlink" title="文件系统实现"></a>文件系统实现</h2><h3 id="文件系统层次结构"><a href="#文件系统层次结构" class="headerlink" title="文件系统层次结构"></a>文件系统层次结构</h3><p><img src="/images/文件系统层次结构图.jpg" alt="文件系统层次结构"></p>
<h3 id="目录实现"><a href="#目录实现" class="headerlink" title="目录实现"></a>目录实现</h3><ol>
<li>线性列表</li>
<li>哈希表</li>
</ol>
<h3 id="文件实现"><a href="#文件实现" class="headerlink" title="文件实现"></a>文件实现</h3><ol>
<li>文件分配方式</li>
</ol>
<ul>
<li>连续分配：每个文件在磁盘中占用一个连续的块，支持顺序访问和直接访问，有外部碎片。</li>
<li>链接分配：采用离散分配方式，只支持指针顺序访问，无外部碎片。</li>
<li>索引分配：每个文件的盘块号构成索引块，若要读第i块，则通过索引块的第i个条目的指针来操作所需的块，支持多层索引和混合索引。</li>
</ul>
<ol>
<li>文件存储空间管理</li>
</ol>
<ul>
<li>空闲表：所有空闲块组织成表</li>
<li>空闲链表法：所有空闲块组织成链表</li>
<li>位示图：利用二进制的每位记录空闲块，1表示块已经使用，0表示空闲</li>
<li>成组链接法：结合空闲表和空闲链表，适合大型文件系统</li>
</ul>
<h2 id="磁盘组织和管理"><a href="#磁盘组织和管理" class="headerlink" title="磁盘组织和管理"></a>磁盘组织和管理</h2><h3 id="磁盘的结构"><a href="#磁盘的结构" class="headerlink" title="磁盘的结构"></a>磁盘的结构</h3><ol>
<li>磁道：盘面的一组同心圆</li>
<li>扇区：磁道划分为扇区，磁盘可寻址的最小存储单位</li>
<li>柱面：相对位置相同的磁道组成柱面</li>
<li>磁盘地址：用“柱面号.盘面号.扇区号”表示</li>
</ol>
<h3 id="磁盘调度算法"><a href="#磁盘调度算法" class="headerlink" title="磁盘调度算法"></a>磁盘调度算法</h3><p>一次磁盘读写操作由寻道时间、延迟时间、传输时间组成  </p>
<ul>
<li>寻道时间：磁头移动到指定磁道的时间</li>
<li>延迟时间：磁头定位到某一磁道的扇区时间</li>
<li>传输时间：读写数据的时间</li>
</ul>
<p>磁盘调度算法  </p>
<ul>
<li>先来先服务(FCFS)算法</li>
<li>最短寻找时间优先(SSTF)</li>
<li>扫描(SCAN)算法或电梯算法</li>
<li>循环扫描(C-SCAN)算法</li>
</ul>
<h3 id="磁盘的管理"><a href="#磁盘的管理" class="headerlink" title="磁盘的管理"></a>磁盘的管理</h3><ol>
<li>磁盘初始化：对磁盘进行低级格式化和逻辑格式化</li>
<li>引导快：存放自举程序，</li>
<li>坏块：对于损坏扇区的处理</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/13/[学习总结]操作系统_内存管理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lin Hui">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hikari">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/13/[学习总结]操作系统_内存管理/" itemprop="url">内存管理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-13T07:55:12+08:00">
                2018-07-13
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2018-07-14T13:39:45+08:00">
                2018-07-14
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/操作系统/" itemprop="url" rel="index">
                    <span itemprop="name">操作系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  2,027 字
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="内存管理概念"><a href="#内存管理概念" class="headerlink" title="内存管理概念"></a>内存管理概念</h2><h3 id="内存管理的概念"><a href="#内存管理的概念" class="headerlink" title="内存管理的概念"></a>内存管理的概念</h3><ol>
<li>内存管理：操作系统对内存的换分和动态规划称为内存管理</li>
<li><p>内存管理的功能</p>
<ul>
<li>内存空间的分配与回收</li>
<li>地址转换</li>
<li>内存空间扩展</li>
<li>存储保护</li>
</ul>
</li>
<li><p>进程运行的基本原理</p>
<ol>
<li>程序装入与链接<ul>
<li>编译：将源代码编译成目标模块</li>
<li>链接：将目标模块和库函数链接成装入模块<ul>
<li>静态链接</li>
<li>装入时动态链接</li>
<li>运行时动态链接</li>
</ul>
</li>
<li>装入：将装入模块装入内存运行<ul>
<li>绝对装入：程序逻辑地址和实际内存地址相同</li>
<li>可重定位装入(静态重定位)：装入模块装入内存时，进行重定位(地址转换)</li>
<li>动态运行时装入(动态重定位)：地址转换在程序执行时进行</li>
</ul>
</li>
</ul>
</li>
<li>逻辑地址空间和物理地址空间  <ul>
<li>相对地址：目标模块从0号单元开始编址，相对该地址的地址即为相对地址</li>
<li>逻辑地址：内存中物理单元的集合称为逻辑地址空间，它是地址转换的最终地址</li>
<li>地址重定位：逻辑地址转换为物理地址</li>
</ul>
</li>
<li>内存保护<ul>
<li>重定位寄存器</li>
<li>界地址寄存器</li>
</ul>
</li>
</ol>
</li>
</ol>
<h3 id="覆盖和交换"><a href="#覆盖和交换" class="headerlink" title="覆盖和交换"></a>覆盖和交换</h3><ol>
<li>覆盖<br> 将用户空间分成固定区和覆盖区，固定区存放活跃的部分，覆盖区存放即将访的段，其它段存放在外存。覆盖用于一个进程或进程中，覆盖技术对程序员不透明，已成历史。</li>
<li>交换<br> 将处于等待状态的进程序从内存移到辅存称为换出，将准备好竞争CPU运行的程序从辅存移到内存称为换入。交换技术用于不同进程之间</li>
</ol>
<h3 id="连续分配管理方式"><a href="#连续分配管理方式" class="headerlink" title="连续分配管理方式"></a>连续分配管理方式</h3><pre><code>连续分配方式指为一个程序分配一个连续的内存空间。
</code></pre><ol>
<li>单一连续分配<br> 内存分为系统区和用户区，系统区给操作系统使用，用户区给一道用户程序使用，只能用在单任务操作系统中</li>
<li><p>固定分区分配<br> 用户空间划分为若干个固定大小的区域，每个分区只装入一道程序。分区有等大小分区和不等大小分区。固定分区有内部碎片</p>
</li>
<li><p>动态分区分配<br> 动态分区分配又称为可变分区分配。在进程装入内存时，根据进程大小动态建立分区。动态分区分配会造成外部碎片。<br> 动态分区分配策略：</p>
<ul>
<li>首次适应算法（First Fit）</li>
<li>最佳适应（Best Fit）</li>
<li>最坏适应（Worst Fit）</li>
<li>邻近适应（Next Fit）</li>
</ul>
</li>
</ol>
<h3 id="非连续分配管理方式"><a href="#非连续分配管理方式" class="headerlink" title="非连续分配管理方式"></a>非连续分配管理方式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">非连续分配指一个程序分散地装入到不相邻的内存分区中。</span><br><span class="line">按照分区分配是否固定分为分页存储管理和分段存储管理。</span><br><span class="line">分页存储管理中又依据运行程序时是否把全部页面都装入内存才运行分为基本分页存储管理和请求分页存储管理。</span><br></pre></td></tr></table></figure>
<ol>
<li><p>基本分页存储管理方式<br> 将主存空间划分为大小相等的块，进程执行时，以块为单位申请块空间。<br> 分页管理不会产生外部碎片，每个进程平均产生半个块大小的内部碎片（页内碎片）</p>
<ol>
<li>分页存储的基本概念<ul>
<li>页面：进程中的块称为页，内存中的块称为页框，在外存的称为块</li>
<li>地址结构：<br>  |31    …    12|11    …   0|<br>  |—-|—-|<br>  |页号P|页内偏移量W|</li>
<li>页表：页表在内存中，用于建立进程页号到内存中物理块号的地址映射</li>
</ul>
</li>
<li>基本地址变换机构： 将逻辑地址转换为物理地址</li>
<li>具有块表的地址变换机构<br><img src="/images/3.jpg" alt="地址变换机构">  </li>
<li>二级页表</li>
</ol>
</li>
<li><p>基本分段存储管理方式  </p>
<ol>
<li>分段</li>
<li>段表</li>
<li>地址变换机构<br> <img src="/images/分段地址变换机构.jpg" width="80%" align="center"></li>
<li>段的共享与保护</li>
</ol>
</li>
<li>段页式管理方式<br> <img src="/images/段页式.jpg" alt="段页式"></li>
</ol>
<h2 id="虚拟内存管理"><a href="#虚拟内存管理" class="headerlink" title="虚拟内存管理"></a>虚拟内存管理</h2><h3 id="虚拟内存管理的基本概念"><a href="#虚拟内存管理的基本概念" class="headerlink" title="虚拟内存管理的基本概念"></a>虚拟内存管理的基本概念</h3><ol>
<li>传统存储管理方式特征<ul>
<li>一次性：作业要一次全部装入内存后才能运行</li>
<li>驻留性：作业装入内存后，一直驻留在内存中</li>
</ul>
</li>
<li>局部性原理<ul>
<li>时间局部性：</li>
<li>空间局部性：</li>
</ul>
</li>
<li>虚拟存储器定义和特征<br> 虚拟存储器指具有请求调入功能和置换功能，能从逻辑上对内存容量就那些扩展的一种存储系统。<br> 主要特征：<ul>
<li>多次性：允许作业分多次调入内存运行</li>
<li>对换性：允许作业进行换入和换出</li>
<li>虚拟性：逻辑容量=内存容量+外存容量</li>
</ul>
</li>
<li>虚拟存储技术的实现<br> 实现方式：<ul>
<li>请求分页存储管理</li>
<li>请求分段存储管理</li>
<li>请求段页式存储管理<br>硬件支持：</li>
<li>内存和外存</li>
<li>中断机构</li>
<li>地址变换机构</li>
<li>页(段)表机制</li>
</ul>
</li>
</ol>
<h3 id="请求分页管理方式"><a href="#请求分页管理方式" class="headerlink" title="请求分页管理方式"></a>请求分页管理方式</h3><ol>
<li>页表机制<br> 页表项:<ul>
<li>页号</li>
<li>物理块号</li>
<li>状态位P：标记该页是否已调入内存</li>
<li>访问字段A：记录本页的访问次数</li>
<li>修改位M：标志该页调入内存后是否被修改</li>
<li>外存地址： 该页的外存地址</li>
</ul>
</li>
<li>缺页中断机构  <ul>
<li>在指令执行期间发生，属于内部中断</li>
<li>一条指令执行期间可能发生多次缺页中断</li>
</ul>
</li>
<li>地址变换机构<br> 地址变换时先检索快表：<ul>
<li>如果在块表中找到对应页，修改页表项的访问位，利用页表项的物理块号和页内地址形成物理地址。</li>
<li>如果找不到，则检索内存中的页表，找到对应页号，查看页表项中的状态位P，若该页未调入内存，则产生缺页中断，请求从外存中把该页调入内存。</li>
</ul>
</li>
</ol>
<h3 id="页面置换算法"><a href="#页面置换算法" class="headerlink" title="页面置换算法"></a>页面置换算法</h3><p>进程运行时，若其访问的页面不在内存中，且内存已经没有足够空间，则要从内存中换出页面，选择调出页面的算法称为页面置换算法。</p>
<ol>
<li>最佳置换算法(OPT):调出最长时间内不再使用的页面</li>
<li>先进先出页面置换算法(FIFO)：调出最早调入的页面会产生Belady异常(分配物理块数增大而缺页次数反而增加)</li>
<li>最近最久未使用置换算法(LRU)：</li>
<li>时钟置换算法(CLOCK)或最近未用算法(NRU)：调入的页面使用位初始值设为1并形成一个循环，指针指向第一个页面。每次调换时从指针处开始扫描循环，若使用位为1则置为0，指针后移；若使用位为0，则置换该页面，指针后移。</li>
</ol>
<h3 id="页面分配策略"><a href="#页面分配策略" class="headerlink" title="页面分配策略"></a>页面分配策略</h3><ol>
<li>置换策略<br> 固定/可变分配：考虑进程分配的物理块是否是固定的<br> 局部/全局置换：考虑是只在进程内部置换还是可以使用其他物理块<br> 组合策略有：<ul>
<li>固定分配局部置换</li>
<li>可变分配全局置换</li>
<li>可变分配局部置换</li>
<li>因为固定分配限制进程的可用物理块所有没有固定分配全局置换</li>
</ul>
</li>
<li>调入页面时机  <ul>
<li>预调页策略：运行前调页，由程序员指定调页策略</li>
<li>请求调页策略：运行期间调页</li>
</ul>
</li>
<li>从何处调入页面<br> 文件区存放文件，采用离散分配；对换区存放对换页面，采用连续分配<ul>
<li>从对换区调入</li>
<li>从文件区调入</li>
</ul>
</li>
</ol>
<h3 id="抖动"><a href="#抖动" class="headerlink" title="抖动"></a>抖动</h3><pre><code>抖动是指频繁的页面调度行为
</code></pre><h3 id="工作集"><a href="#工作集" class="headerlink" title="工作集"></a>工作集</h3><pre><code>工作集(驻留集)指某段时间间隔内，进程要访问的页面集合，合理选择工作集大小可以防止抖动现象
</code></pre><h3 id="地址翻译"><a href="#地址翻译" class="headerlink" title="地址翻译"></a>地址翻译</h3>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/12/[学习总结]操作系统_进程管理_死锁/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lin Hui">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hikari">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/12/[学习总结]操作系统_进程管理_死锁/" itemprop="url">进程管理-死锁</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-12T22:22:12+08:00">
                2018-07-12
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2018-07-12T23:21:43+08:00">
                2018-07-12
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/操作系统/" itemprop="url" rel="index">
                    <span itemprop="name">操作系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  472 字
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="死锁的概念"><a href="#死锁的概念" class="headerlink" title="死锁的概念"></a>死锁的概念</h3><ol>
<li>死锁的定义<br> 多个进程因为竞争资源和造成的一种相互等待的现象</li>
<li>死锁产生原因  <ul>
<li>系统资源竞争</li>
<li>进程推进顺序非法</li>
</ul>
</li>
<li>死锁产生的必要条件  <ul>
<li>互斥条件</li>
<li>不剥夺条件</li>
<li>请求和饱和条件</li>
<li>循环等待条件</li>
</ul>
</li>
</ol>
<h3 id="死锁的处理策略"><a href="#死锁的处理策略" class="headerlink" title="死锁的处理策略"></a>死锁的处理策略</h3><ol>
<li>预防死锁：破坏死锁产生的四个必要条件中的一个或多个</li>
<li>避免死锁：防止系统进入不安全状态</li>
<li>死锁检测和解除：不采取限制，检测到再解除</li>
</ol>
<h3 id="死锁避免"><a href="#死锁避免" class="headerlink" title="死锁避免"></a>死锁避免</h3><ol>
<li>系统安全状态<br> 系统按照某种进程推进顺序（P1,P2,…,Pn),为每个进程Pi分配其所需资源，直到满足每个进程的最大资源需求，使每个进程都可以顺利完成，此时称P1,P2,…,Pn为安全序列，如果系统无法找到一个安全序列，则称系统处于不安全状态。</li>
<li>银行家算法<br> 银行家算法是最著名的死锁避免算法。<ol>
<li>数据结构描述  <ul>
<li>可利用资源矢量Available：Available[i]=K表示系统现有Ri类资源K个</li>
<li>最大需求矩阵Max：Max[i,j]=K，表示进程i需要Rj类资源的最大数目为K</li>
<li>分配矩阵Allocation：Allocation[i,j]=K ,表示进程i已经分配到了Rj类资源数目为K</li>
<li>需求矩阵Need：Need[i,j]=K，表示进程i还需要Rj类资源数目为K</li>
</ul>
</li>
<li>算法描述</li>
<li>安全性算法  </li>
</ol>
</li>
</ol>
<h3 id="死锁检测和解除"><a href="#死锁检测和解除" class="headerlink" title="死锁检测和解除"></a>死锁检测和解除</h3><ol>
<li>资源分配图<br> 请求边，分配边</li>
<li><p>死锁定理<br> S为死锁的条件是当且仅当S状态的资源分配图是不可完全化简的。<br> 资源分配图化简：</p>
</li>
<li><p>死锁解除  </p>
<ul>
<li>资源剥夺法</li>
<li>撤销进程法</li>
<li>进程回退法</li>
</ul>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/12/[学习总结]操作系统_进程管理_经典同步问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lin Hui">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hikari">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/12/[学习总结]操作系统_进程管理_经典同步问题/" itemprop="url">进程管理-经典同步问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-12T15:34:12+08:00">
                2018-07-12
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2018-07-12T23:18:29+08:00">
                2018-07-12
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/操作系统/" itemprop="url" rel="index">
                    <span itemprop="name">操作系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  602 字
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="生产者消费者问题"><a href="#生产者消费者问题" class="headerlink" title="生产者消费者问题"></a>生产者消费者问题</h2><ol>
<li>问题描述<br> 生产者进程和消费者进程共享一个缓冲区，只有缓冲区未满时，生产者进程才可以吧消息放入缓冲区，只有当缓冲区非空时，消费者进程才可以从中取消息，缓冲区为临界资源</li>
<li>思路<br> 解决互斥和同步PV操作问题</li>
<li>代码  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">semaphore mutex=<span class="number">1</span>;</span><br><span class="line">semaphore full=<span class="number">0</span>;</span><br><span class="line">semaphore empty=n;</span><br><span class="line">producer()&#123;</span><br><span class="line">    <span class="keyword">while</span>（<span class="number">1</span>）&#123;</span><br><span class="line">        生产数据；</span><br><span class="line">        P(empty);</span><br><span class="line">        P(mutex);</span><br><span class="line">        数据放入缓冲区；</span><br><span class="line">        V（mutex）；</span><br><span class="line">        V(full);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">comsumer()&#123;</span><br><span class="line">    <span class="keyword">while</span>（<span class="number">1</span>）&#123;</span><br><span class="line">        P(full);</span><br><span class="line">        P(mutex);</span><br><span class="line">        从缓冲区中取出数据；</span><br><span class="line">        V(mutex);</span><br><span class="line">        V(empty);</span><br><span class="line">        消费数据；</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="读者-写者问题"><a href="#读者-写者问题" class="headerlink" title="读者-写者问题"></a>读者-写者问题</h2><ol>
<li>问题描述<br> 有读者进程和写者进程，关系如下：  <ul>
<li>多个读者可同时对文件进行读操作</li>
<li>只允许一个写者往文件写数据</li>
<li>写者完成工作之前，不允许其他读者或写者操作</li>
<li>写者执行操作之间，应让已有读者和写者全部退出</li>
</ul>
</li>
<li>思路<br> 写者和写者、读者都互斥；读者与写者互斥，读者间同步<br> 利用count记录读者数目，mutex用于count的互斥访问，rx用于读写者的互斥访问</li>
<li>代码<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> count =<span class="number">0</span>;</span><br><span class="line">semaphore mutex=<span class="number">1</span>;</span><br><span class="line">semaphore re=<span class="number">1</span>;</span><br><span class="line">writer()&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        P(rw);</span><br><span class="line">        写入数据；</span><br><span class="line">        V(rw)；</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">reader()&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        P(mutex);</span><br><span class="line">        <span class="keyword">if</span>(count == <span class="number">0</span>)</span><br><span class="line">            P(rw);</span><br><span class="line">        count++;</span><br><span class="line">        V(mutex);</span><br><span class="line">        读；</span><br><span class="line">        P(mutex);</span><br><span class="line">        count--;</span><br><span class="line">        <span class="keyword">if</span>(count == <span class="number">0</span>)</span><br><span class="line">            V(rw);</span><br><span class="line">        V(mutex);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="哲学家进餐问题"><a href="#哲学家进餐问题" class="headerlink" title="哲学家进餐问题"></a>哲学家进餐问题</h2><ol>
<li>问题描述<br> 一张圆桌上坐在五个哲学家，每个哲学家左右两边各有一只筷子，哲学家一次只能拿一只筷子，拿到两只筷子才可以进餐，否则等待，进餐后放下筷子，继续思考。</li>
<li><p>思路<br> 定义互斥型号量数组chopstick[5]={1,1,1,1,1},用于对筷子的互斥访问,哲学家编号0—4，哲学家i左边的筷子为编号i；右边的筷子为编号（i+1）%5;mutex表示对筷子的互信号量</p>
</li>
<li><p>代码</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">semaphore chopstick[<span class="number">5</span>]=&#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;</span><br><span class="line">Pi()&#123;</span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        p(mutex);</span><br><span class="line">        P(chopstick[i]);</span><br><span class="line">        P(chopstick[(i+<span class="number">1</span>)%<span class="number">5</span>]);</span><br><span class="line">        V(mutex);</span><br><span class="line">        eat;</span><br><span class="line">        V(chopstick[i]);</span><br><span class="line">        V(chopstick[(i+<span class="number">1</span>)%<span class="number">5</span>]);</span><br><span class="line">        think;</span><br><span class="line">    &#125;<span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="吸烟者问题"><a href="#吸烟者问题" class="headerlink" title="吸烟者问题"></a>吸烟者问题</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/head.jpg"
                alt="Lin Hui" />
            
              <p class="site-author-name" itemprop="name">Lin Hui</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">47</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">21</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/LinHoi" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:linhui-tarou@foxmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lin Hui</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">73.6k</span>
  
</div>












        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  








  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
  


  

  

</body>
</html>
